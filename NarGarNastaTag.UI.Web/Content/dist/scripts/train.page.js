webpackJsonp([1],[function(t,exports,e){(function($){var t=e(3),o=e(1),r=e(5),n=function(){function e(){this.commuterController=new t}return e.prototype.load=function(){$.mobile.loading("show",{text:"Laddar h√•llplatser...",textVisible:!1,theme:"a",html:""}),this.getStops(function(){$.mobile.loading("hide")})},e.prototype.getStops=function(t){var e=this,n=o.getQueryStringParameterByName(window.location.href,"route"),a=n.split(",")[0],i=n.split(",")[1],d=-1,u=e.commuterController.idGenerator.getRandomRangedInteger(5,6);e.commuterController.queryRemote("http://www"+u.toString()+".trafikverket.se/Trafikinformation/WebPage/TrafficSituationTrain.aspx?train="+a+","+i,'//table[@id="Trafficsituationtraincomponent_TrafficSituationDataGrid"]/tr',function(o){if(o.data.query.results&&o.data.query.results.tr){o.data.query.results.tr.shift();var n=!1;$.each(o.data.query.results.tr,function(){var o=$("#stopOnRouteItemTemplate").clone();o.prop("id",e.commuterController.idGenerator.getId()),d++,d%2!==0&&o.addClass("alternate");var a=o.find(".stopName"),i=o.find(".stopArrival"),u=o.find(".stopDeparture"),s=o.find(".stopTrack");o.find(".comment");try{if("undefined"==typeof this.td[0].div)return;a.text(this.td[0].div.a.content),"undefined"!=typeof this.td[1].p?i.text(""):"undefined"!=typeof this.td[1].div[2]?"undefined"!=typeof this.td[1].div[2].em?i.text("undefined"!=typeof this.td[1].div[2].em.strong?this.td[1].div[2].em.strong:this.td[1].div[2].em):"undefined"!=typeof this.td[1].div[2].i&&i.text(this.td[1].div[2].i):"undefined"!=typeof this.td[1].div&&i.text(this.td[1].div.p),"undefined"!=typeof this.td[2].p?u.text(""):"undefined"!=typeof this.td[2].div[2]?"undefined"!=typeof this.td[2].div[2].em?u.text("undefined"!=typeof this.td[2].div[2].em.strong?this.td[2].div[2].em.strong:this.td[2].div[2].em):"undefined"!=typeof this.td[2].div[2].i&&u.text(this.td[2].div[2].i):"undefined"!=typeof this.td[2].div&&u.text(this.td[2].div.p),"undefined"!=typeof this.td[3].div&&s.text(this.td[3].div.p),$("#stopsOnRoute").append(o),n||($("#stopsOnRoute .stopOnRouteHeader").toggle(),n=!0),o.fadeIn("slow"),t()}catch(p){var f=new r;f.dump({message:"Error when showing detailed train info",error:p,source:this})}})}})},e}();$("#trainPage").bind("pageshow",function(){(new n).load()})}).call(exports,e(2))}]);